<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from wiki.elexis.info/index.php?title=Ch.medelexis.xchange.feature.feature.group&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 26 Feb 2024 14:26:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for Ch.medelexis.xchange.feature.feature.group - Elexis-Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Ch.medelexis.xchange.feature.feature.group","wgTitle":"Ch.medelexis.xchange.feature.feature.group","wgCurRevisionId":57196,"wgRevisionId":0,"wgArticleId":19469,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"de-ch","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t.","'\t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],"wgMonthNamesShort":["","Jan.","Feb.","Mär.","Apr.","Mai","Jun.","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],"wgRelevantPageName":"Ch.medelexis.xchange.feature.feature.group","wgRelevantArticleId":19469,"wgRequestId":"7c1f8a7689096d30285aa32f","wgCSPNonce":false,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@00yl6bz",function($,jQuery,require,module){/*@nomin*/mw.user.options.set({"variant":"de-ch"});
});mw.loader.implement("user.tokens@0tffind",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});RLPAGEMODULES=["mediawiki.action.edit.collapsibleFooter","site","mediawiki.page.startup","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.js"];mw.loader.load(RLPAGEMODULES);});</script>
<link rel="stylesheet" href="loadc219.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="load2c8d.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.32.0"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="https://wiki.elexis.info/config/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.elexis.info/opensearch_desc.php" title="Elexis-Wiki (de-ch)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.elexis.info/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Elexis-Wiki Atom feed" href="https://wiki.elexis.info/index.php?title=Spezial:Letzte_%C3%84nderungen&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=de-ch&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Ch_medelexis_xchange_feature_feature_group rootpage-Ch_medelexis_xchange_feature_feature_group skin-vector action-edit">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="de-CH">View source for Ch.medelexis.xchange.feature.feature.group</h1>			<div id="bodyContent" class="mw-body-content">
								<div id="contentSub" lang="en" dir="ltr">← <a href="https://wiki.elexis.info/Ch.medelexis.xchange.feature.feature.group" title="Ch.medelexis.xchange.feature.feature.group">Ch.medelexis.xchange.feature.feature.group</a></div>
				<div id="jump-to-nav"></div>				<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
				<a class="mw-jump-link" href="#p-search">Jump to search</a>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in one of the groups: <a href="https://wiki.elexis.info/index.php?title=Elexis-Wiki:Administratoren&amp;action=edit&amp;redlink=1" class="new" title="Elexis-Wiki:Administratoren (Seite nicht vorhanden)">Administrators</a>, Trusted.
</p>
</div>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace" lang="de-CH" dir="ltr" name="wpTextbox1">[[Datei:medelexis_logo_klein.jpg|rechts]]
[[Category:Datenaustausch]]
&lt;table style="width:100%; border: 1px solid; padding: 10px">
	
	&lt;tr>
		&lt;td>Version:&lt;/td>
		&lt;td>3&lt;/td>
	&lt;/tr>
	&lt;tr>
		&lt;td style="width:150px;">Kategorie:&lt;/td>
		&lt;td>Datenaustausch&lt;/td>
	&lt;/tr>
	&lt;tr>
		&lt;td>Beschreibung:&lt;/td>
		&lt;td>&lt;/td>
	&lt;/tr>
	&lt;tr>
		&lt;td>Author:&lt;/td>
		&lt;td>&lt;/td>
	&lt;/tr>
	&lt;tr>
		&lt;td>Letzte Bearbeitung:&lt;/td>
		&lt;td>17. Juni 2014&lt;/td>
	&lt;/tr>
	&lt;tr>
		&lt;td>Voraussetzungen:&lt;/td>
		&lt;td>Elexis 3.0&lt;/td>
	&lt;/tr>
	&lt;tr>
		&lt;td>Betriebssystem:&lt;/td>
		&lt;td>Windows, Mac, Linux&lt;/td>
	&lt;/tr>
	&lt;tr>
		&lt;td>Lizenz:&lt;/td>
		&lt;td>Proprietär&lt;/td>
	&lt;/tr>
&lt;/table>




== xCHange – an XML based technique to exchange data between electronic medical record systems ==

Copyright notice: This file and all accompanying materials are copyright© 2010 by Medelexis AG, Baden, Switzerland. Copying, using and redistribution are allowed free of charge as long as the contents and this copyright notice remain unchanged.


== Background ==

Exchange of data between medical record programs is quite difficult in Switzerland. Unlike their respectives in other countries, swiss health officials never enforced standardizing of documents held in electronic medical record systems. So, frequently the sender will print documents on paper, send them by mail, and the receiver scans the documents in. Of course, this is not the best way to transfer data that are present in digital form already.

In 2007, SGAM.Informatics created a project called xChange (see [http://www.primary-care.ch/pdf/2007/2007-16/2007-16-169.PDF http://www.primary-care.ch/pdf/2007/2007-16/2007-16-169.PDF]). The goal of this project was, to prove that digitally encrypted exchange of not standardized medical data between swiss EMR systems is possible. xCHange is a continuation and extension of this project.


== Objectives ==

We introduce a concept to exchange and assign data correctly to medical entities without enforcing a standardized document structure and without enforcing a certain programming language or a certain operating system.

== Structure ==

== Overview ==

xCHange consists of a formal structure description and a set of processing instructions. xCHange does not require a certain operating system or a specific programming language or runtime platform. The concepts and structures used are compeletely generic and based on widely adopted standards such as XML and ZIP.

== Identifiers ==

Recognizing data identity is one of the maior challenges in medical data exchange. We can have (and quite often do have) the same object stored in different environments with different identifiers. If we transfer such objects from one system to another, we must decide whether an object belongs to or is an already existing entity. If a patient is transmitted from a primary care physician to a hospital or a specialist, a report will be generated and eventually sent back to the original referrer, or to another specialist or maybe a different family doctor, if the patient decides to change. So how can we make sure, that the report is assigned automatically to the correct patient, given the fact that name and birthdate are not unique and are spelled differently sometimes or even may change during life? How can we make sure, that an imported lab value belongs to a lab item in our system? How can we let the computer recognize, that a document labelled “Thorax” belongs to a document class that is called “chest x-ray” in our system? These identifiers are not standardized at all.

The simple yet frustrating answer to all these questions is: We can’t. At least not always. A computer system can make some educated guess about the identity of an Object and can make an automated decision on how safe this guess might be. The user of the system may define some threshold. If the probability of its guess falls below that threshold, the computer must always ask a skilled human to help. Our goal is, to minimize the need for such human interaction. The following sections explain the xCHange approach.

=== Linking object identifiers ===

Objects used in an EMR System frequently do have many identifiers before they first come to our user’s practice. A Patient might be identified by a Social Security Number, by a Health Insurance Card Number, by a Passport Number, an AHV Number and many more. If the patient comes to a physician’s practice, he or she will receive yet another identifier: the Patient-Number of the physician’s file system or database.

To make use of preexisting identifiers and deal with the identification problems while exchanging EMR data, xCHange introduces the concept of a XID (eXternal Identifier). A XID is an identifier that consists of one or more pairs of domain/id values. A Domain is a String describing the classification system. An ID is a String that describes the given object within this classification system uniquely.

XIDs can easily be expressed as XML Elements. The formal description is in the appendix (XID.xsd)&lt;br />
Here we demonstrate some features with an example:

&lt;pre> 
 &amp;lt;xChange:xid id=&amp;quot;www.xid.ch/ahv/123.45.67&amp;quot;&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2010-04-01&amp;quot; domain=&amp;quot;www.xid.ch/ahv&amp;quot; domainID=&amp;quot;123.45.67&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2009-12-23&amp;quot; domain=&amp;quot;www.elexis.ch/patientUID&amp;quot; domainID=&amp;quot;0345dswe4553212344&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot;/&amp;gt;
 &amp;lt;/xChange:xid&amp;gt;&lt;/pre>

As you can see. this is a XID with two identities: An AHV number (Swiss ssn) and a patient ID from an EMR System. The AHV number has “regional” quality whereas the EMR ID only has a local quality.On the other hand, the EMR ID is a GUID i.e. is a globally unique identifier (The algorithm of GUID generation guarantees that there is only one person in the world with this GUID. The AHV-Nr. is not a GUID since its generation algorithm does not guarantee uniqueness.)

=== Combining XIDs ===

Now consider we import a patient admission from a collegue. The data file identifies the patient being

Foo, Barbara, female dob 10/3/1969, living in Xidikon (1)

In our database we have a patient

Foo-Baz, Barbara, female, dob 3.10.1969, living in Xid City (2)

The two records have different addresses but quite similar names and birth dates. Do they denote the same person?

Let’s look at the XIDs.&lt;br />
(1)

&lt;pre> &amp;lt;xChange:xid id=&amp;quot;www.xid.ch/ahv/123.45.69.345&amp;quot;&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2008-07-01&amp;quot; domain=&amp;quot;www.xid.ch/ahv&amp;quot; domainID=&amp;quot;123.45.67&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2008-12-23&amp;quot; domain=&amp;quot;www.elexis.ch/patientUID&amp;quot; domainID=&amp;quot;0345dswe4553212344&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2007-10-12&amp;quot; domain=&amp;quot;www.xid.ch/kk/SomeInsurance&amp;quot; domainID=&amp;quot;22345565&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
 &amp;lt;/xChange:xid&amp;gt;&lt;/pre>
(2)

&lt;pre>&amp;lt;xChange:xid id=&amp;quot;www.xid.ch/ahv/125.66.69.180&amp;quot;&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2010-04-01&amp;quot; domain=&amp;quot;www.xid.ch/ahv&amp;quot; domainID=&amp;quot;125.66.69.180&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2009-12-23&amp;quot; domain=&amp;quot;www.SomeEMR.ch/patientUID&amp;quot; domainID=&amp;quot;778derggf412344&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2009-10-12&amp;quot; domain=&amp;quot;www.xid.ch/kk/SomeInsurance&amp;quot; domainID=&amp;quot;22345565&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
 &amp;lt;/xChange:xid&amp;gt;&lt;/pre>
As we can see, the AHV is different. This does not prove anything, because the AHV used to change with marriage until recently. We have also Patient ID’s from different EMR systems, which don’t help either. But we are lucky: The person has the same insurance and the same insurance number. Thus the Computer can figure out that the two records denote the same person. Knowing this, it will combine the XIDs:

&lt;pre>&amp;lt;xChange:xid id=&amp;quot;www.xid.ch/ahv/125.66.69.180&amp;quot;&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2010-04-01&amp;quot; domain=&amp;quot;www.xid.ch/ahv&amp;quot; domainID=&amp;quot;125.66.69.180&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2009-12-23&amp;quot; domain=&amp;quot;www.SomeEMR.ch/patientUID&amp;quot; domainID=&amp;quot;778derggf412344&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2009-10-12&amp;quot; domain=&amp;quot;www.xid.ch/kk/SomeInsurance&amp;quot; domainID=&amp;quot;22345565&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2008-12-23&amp;quot; domain=&amp;quot;www.elexis.ch/patientUID&amp;quot; domainID=&amp;quot;0345dswe4553212344&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot;/&amp;gt;
 &amp;lt;/xChange:xid&amp;gt;&lt;/pre>
Doing so it omitted the elder version of the AHV and imported the other identifiers. If the record is to be exported at a later time, it will carry more information. And if it happens to be reimported in SomeEMR where this patient resides already, the system will instantly recognize the record (The PatientUID is a GUID and therefore it is safe to assume that two records having the same PatientUID from the same domain denote the same Person).

The only thing the computer can not resolve is the different birth date. Thus the system will mark it as conflicting to be resoved by a human.

After the XID is resolved and the patient record is matched or created, the payload of the transfer, e.g. lab values, a letter or an x-ray, can be imported correctly. If there had been no matching identity, the importer would have to ask the user. The formal algorithm for merging XID’s is described in the appendix.

=== Adapting and evolving XID’s ===

XID’s are not limited to persons. Most objects transferred with xCHange carry a XID with at least one identity. Such XIDs help classifying imported objects of different kinds. This extension to basic XIDs is called ASIMED.

The key idea is: Not all physicians classify all objects identically. A radiologist will probably classify a document as belonging to “ultrasound/abdomen”. A familiy practinioner receiving this document will file it probably just as “ultrasound”. Or even as “external image”. Now he admits the patient to a surgeon. The EMR system of the surgeon has probably no category called “external image” so it does not know how to classify the incoming document.

There have been many approaches to this problem, most of them using more or less elaborate classification systems (like HL7 CDA, SNOMED), LOINC® and others). These approaches, while being sophisticated and well designed, lack on the failure of today’s EMR systems to produce such classifications automatically. These days, the average medical report comes in as Adobe™ pdf or Microsoft™ Word™ document which has of course no classification information at all. This leaves the task to apply the correct classification to the user of the importing system which may be quite tedious given the enormous size of such classifications (SNOMED has more than 80’000 entries). Moreover: Such classification forces a physician to use a standardized classification system, while he or she probably would rather use some filing matching his/her usual workflow. In fact, it does not make much sense, if, say, a dermatologist, uses the same granularity for classification of x-rays, as a radiologist.

Therefore, xCHange uses a quite different approach: If the importing system does not know how to file an incoming or newly created document, it has to ask the user. The user will apply his/her very own classification. On export, however, this classification is sent along with the document as a hint to the next importing system. If some systems apply different classifications to a document, all these classifications are kept. Over time, the classification information becomes more and more accurate and makes it possible to file documents automatically after some such evolutionary steps.

Of course, in real life, most documents will not be exchanged very frequently and thus carry only few classification metadata. But if a document happens to travel enough to become cluttered with lots of incompatible classification metadata, there is an evolutionary process that removes older and less frequently used entries over time.

Let’s see an example. Consider this document:

&lt;pre>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;xChange:xChange authorization=&amp;quot;implicit&amp;quot; destination=&amp;quot;34567778993c&amp;quot; id=&amp;quot;2345456675ugt&amp;quot; origin=&amp;quot;3234325fdghhjju&amp;quot; responsible=&amp;quot;443546788987rtzr&amp;quot; timestamp=&amp;quot;2010-01-31T12:00:00&amp;quot; xmlns:xChange=&amp;quot;http://informatics.sgam.ch/xChange&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;http://informatics.sgam.ch/xChange xchange.xsd &amp;quot;&amp;gt;
  &amp;lt;xChange:header creatorID=&amp;quot;ew54r345346erztt6567&amp;quot; creatorName=&amp;quot;elexis&amp;quot; creatorVersion=&amp;quot;2.1&amp;quot; language=&amp;quot;de_CH&amp;quot; protocolVersion=&amp;quot;2.0&amp;quot;/&amp;gt;
  &amp;lt;xChange:contacts&amp;gt;
    &amp;lt;xChange:contact birthdate=&amp;quot;1967-04-23&amp;quot; firstname=&amp;quot;Barbara&amp;quot; lastname=&amp;quot;Foo-Baz&amp;quot; sex=&amp;quot;f&amp;quot;  type=&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;xChange:xid id=&amp;quot;www.xid.ch/ahv/125.66.69.180&amp;quot;&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2010-04-01&amp;quot; domain=&amp;quot;www.xid.ch/ahv&amp;quot; domainID=&amp;quot;125.66.69.180&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2009-12-23&amp;quot; domain=&amp;quot;www.SomeEMR.ch/patientUID&amp;quot; domainID=&amp;quot;778derggf412344&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2009-10-12&amp;quot; domain=&amp;quot;www.xid.ch/kk/SomeInsurance&amp;quot; domainID=&amp;quot;22345565&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2008-12-23&amp;quot; domain=&amp;quot;www.elexis.ch/patientUID&amp;quot; domainID=&amp;quot;0345dswe4553212344&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot;/&amp;gt;
 &amp;lt;/xChange:xid&amp;gt;
      &amp;lt;xChange:address city=&amp;quot;Xidikon&amp;quot; country=&amp;quot;CH&amp;quot; description=&amp;quot;home&amp;quot; street=&amp;quot;xidstreet 25&amp;quot; zip=&amp;quot;9999&amp;quot;/&amp;gt;
      &amp;lt;xChange:contactref description=&amp;quot;&amp;quot; refID=&amp;quot;idvalue0&amp;quot;/&amp;gt;
      &amp;lt;xChange:medical&amp;gt;
        &amp;lt;xChange:documents&amp;gt;
          &amp;lt;xChange:document date=&amp;quot;2010-01-30&amp;quot; destination=&amp;quot;3234325fdghhjju&amp;quot;  origin=&amp;quot;3234325fdghhjju&amp;quot; title=&amp;quot;sono-2010-01-30-012&amp;quot;&amp;gt;
           &amp;lt;xChange:xid id=&amp;quot;35466756ztrz6578&amp;quot;&amp;gt;
              &amp;lt;xChange:identity date=&amp;quot;2010-01-30&amp;quot; domain=&amp;quot;www.SomeHospital.ch/PACS_ID&amp;quot; domainID=&amp;quot;21344545656tz6&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
              &amp;lt;xChange:identity date=&amp;quot;2010-01-30&amp;quot; domain=&amp;quot;www.xid.ch/ASIMED/3234325fdghhjju&amp;quot; domainID=&amp;quot;documents/radiology/sonography/room1/abdomen&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
           &amp;lt;/xChange:xid&amp;gt;
        &amp;lt;xChange:hint&amp;gt;Ultraschallbefund&amp;lt;/xChange:hint&amp;gt;
         &amp;lt;xChange:contents mimetype=&amp;quot;application/pdf&amp;quot;  placement=&amp;quot;infile&amp;quot;&amp;gt;NameOfTheFileInTheContainer.pdf&amp;lt;/xChange:contents&amp;gt;
        &amp;lt;/xChange:document&amp;gt;
        &amp;lt;/xChange:documents&amp;gt;
      &amp;lt;/xChange:medical&amp;gt;
    &amp;lt;/xChange:contact&amp;gt;
    &amp;lt;xChange:contact firstname=&amp;quot;Alfred&amp;quot; lastname=&amp;quot;Test&amp;quot;  salutation=&amp;quot;Herr&amp;quot;  title=&amp;quot;Dr. med.&amp;quot; type=&amp;quot;person&amp;quot;&amp;gt;
      &amp;lt;xChange:xid id=&amp;quot;34567778993c&amp;quot;&amp;gt;
        &amp;lt;xChange:identity date=&amp;quot;2005-11-17&amp;quot; domain=&amp;quot;www.SomeEMR.ch/UIDs&amp;quot; domainID=&amp;quot;34567778993c&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
      &amp;lt;/xChange:xid&amp;gt;
      &amp;lt;xChange:address city=&amp;quot;Xidikon&amp;quot;  description=&amp;quot;work&amp;quot; street=&amp;quot;Doctor's House&amp;quot; zip=&amp;quot;9999&amp;quot;/&amp;gt;
    &amp;lt;/xChange:contact&amp;gt;
    &amp;lt;xChange:contact  lastname=&amp;quot;Xid Care Hospital&amp;quot; type=&amp;quot;organization&amp;quot;&amp;gt;
      &amp;lt;xChange:xid id=&amp;quot;3234325fdghhjju&amp;quot;&amp;gt;
        &amp;lt;xChange:identity date=&amp;quot;2002-05-22&amp;quot; domain=&amp;quot;www.SomeEMR.ch/UIDs&amp;quot; domainID=&amp;quot;3234325fdghhjju&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
      &amp;lt;/xChange:xid&amp;gt;
      &amp;lt;xChange:address city=&amp;quot;Xidikon&amp;quot;  description=&amp;quot;work&amp;quot; street=&amp;quot;Healthness Boulevard&amp;quot; zip=&amp;quot;9999&amp;quot;/&amp;gt;
    &amp;lt;/xChange:contact&amp;gt;
  &amp;lt;/xChange:contacts&amp;gt;
  /xChange:xChange&amp;gt;&lt;/pre>
This is a valid xCHange document. As you can see, it is an ultrasound result, sent from the Xid Care Hospital to Dr. Alfred Test. &lt;br />
 After the header follows the person information as discussed earlier, to help the importing system to assign the document to the correct patient record. Below follow the document metadata.

On importing such a document for the first time, the importing system does not know how to handle it. It looks for the ASIMED identities and finds none matching its own classification system. So, depending on its system design or user preference, it would place this document into some sort of inbox to be processed later, or it will immediately ask the user to give informations on how to store this document. The user will probably file it in “documents/findings/ultrasound”. Knowing this, the system will add an ASIMED record to the document. The document metadata will then look like this:

&lt;pre> &amp;lt;xChange:document date=&amp;quot;2010-01-30&amp;quot; destination=&amp;quot;3234325fdghhjju&amp;quot; mimetype=&amp;quot;application/pdf&amp;quot; origin=&amp;quot;3234325fdghhjju&amp;quot; placement=&amp;quot;infile&amp;quot; subject=&amp;quot;ultrasound abdomen&amp;quot; title=&amp;quot;sono-2010-01-30-012&amp;quot;&amp;gt;
  &amp;lt;xChange:xid id=&amp;quot;35466756ztrz6578&amp;quot;&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2010-01-30&amp;quot; domain=&amp;quot;www.SomeHospital.ch/PACS_ID&amp;quot; domainID=&amp;quot;21344545656tz6&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2010-01-30&amp;quot; domain=&amp;quot;www.xid.ch/ASIMED/3234325fdghhjju&amp;quot; domainID=&amp;quot;documents/radiology/sonography/room1/abdomen&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
    &amp;lt;xChange:identity date=&amp;quot;2010-01-31&amp;quot; domain=&amp;quot;www.xid.ch/ASIMED/34567778993c&amp;quot; domainID=&amp;quot;documents/findings/ultrasound&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
  &amp;lt;/xChange:xid&amp;gt;
  &amp;lt;xChange:hint&amp;gt;Ultraschallbefund&amp;lt;/xChange:hint&amp;gt;
&amp;lt;/xChange:document&amp;gt;&lt;/pre>
If the document is exported later again, both ASIMED identities will be sent along with it, and the next importing system has two hints on how to import t. If an import happens to use a classification that already has an ASIMED record, this record’s usage value will be increased thus promoting this record to a higher priority in the next transfer.

=== It’s the law ===

In some cases, a certian classification system is required by law or professional rules. In these cases, the system should prefer the legal classification over individual concepts. This is achieved by introducing an ''ASIMED/authoritative'' record. If such a record is found on an object, this record will always have precedence over all other ASIMED records. The user can still override manually, if he or she wishes to do so.

=== ASIMED profiles ===

Sometimes one wants to import several data at once. If we want to transfer whole EMR data from one program to another, it would be quite annoying to manually classify every single of some thousand documents. Therefore it is possible to define translations in advance in a so called “ASIMED profile”. For example we can define a profile for converting data between the systems EMRx and EMRy. We might define, that ''documents/findings/x-ray/chest'' from EMRx will always be placed in ''documents/x-ray'' in EMRy. Such profiles can even learn new assignements: The user must assign the first object of a given type manually and can define that this assignment should be used for all subsequent objects of the same type. A profile is always valid for exactly one pair of Sender/Receiver and is not valid inversely.

== container structure ==

=== unencrypted container ===

An unencrypted xchange container is essentially a ZIP file containing an XML document with the name xchange.xml and zero or more accompanying files. It is suggested to use the suffix .xchange for such files but this is not enforced.

The file xchange.xml contains all informations necessary for import. If there are accompanying files in the container, they are always referenced by metadata found in xchange.xml.

The formal definition of xCHange is in the appendix. Here we discuss some features with an example.

==== General considerations: ====

The container declares a header, one ore more contacts and zero or more documents. A contact is any person or organization that can be referenced in the file. &lt;br />
Every object is identified by a XID and has an ID attribute to be referenced within the file. Every XID has at least one identity that is a GUID. A GUID is a character sequence that is guaranteed to exist only once in the world.

&lt;pre>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;xChange:xChange authorization=&amp;quot;explicit&amp;quot; destination=&amp;quot;some-contactref-1&amp;quot; id=&amp;quot;Some-GUID-1&amp;quot; origin=&amp;quot;Some-contactref-2&amp;quot; responsible=&amp;quot;Some-contactref-3&amp;quot; timestamp=&amp;quot;2010-04-21T12:00:00&amp;quot; xmlns:xChange=&amp;quot;http://informatics.sgam.ch/xChange&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;http://informatics.sgam.ch/xChange xchange.xsd &amp;quot;&amp;gt;
  &amp;lt;xChange:header creatorID=&amp;quot;Some-GUID-4&amp;quot; creatorName=&amp;quot;elexis&amp;quot; creatorVersion=&amp;quot;2.1&amp;quot; language=&amp;quot;de&amp;quot; protocolVersion=&amp;quot;2.0&amp;quot;/&amp;gt;&lt;/pre>
The beginning of the files declares the xml and some basic values.

* Authorization: The sender of medical informations must declare, that he is authorized to do so. Authorization can be excplicit (patient has been asked), implicit (e.g. admission of the patient to a hospital) or not required (if the document does not contain sensitive data)
* destination: A reference to a contact within the same file, that is the receiver of this container.
* id: a GUID defining this container uniquely.
* origin: A reference to a contact within the same file that is the sender of this container.
* responsible: A reference to a contact that must be a person which is directly responsible for sending this container (can be the same as in “origin”)

&lt;pre>  &amp;lt;xChange:contacts&amp;gt;
    &amp;lt;xChange:contact birthdate=&amp;quot;1967-10-11&amp;quot; firstname=&amp;quot;Barbara&amp;quot; lastname=&amp;quot;Foo-Baz&amp;quot; middlename=&amp;quot;Teresa&amp;quot; salutation=&amp;quot;Mrs.&amp;quot; sex=&amp;quot;f&amp;quot; shortname=&amp;quot;Barb&amp;quot; title=&amp;quot;MD&amp;quot; type=&amp;quot;person&amp;quot;&amp;gt;
      &amp;lt;xChange:xid id=&amp;quot;some-GUID-2&amp;quot;&amp;gt;
        &amp;lt;xChange:identity date=&amp;quot;2010-04-10&amp;quot; domain=&amp;quot;www.elexis.ch/PatientUID&amp;quot; domainID=&amp;quot;Some-GUID-2&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
      &amp;lt;/xChange:xid&amp;gt;
      &amp;lt;xChange:address city=&amp;quot;Xidikon&amp;quot; country=&amp;quot;CH&amp;quot; description=&amp;quot;home&amp;quot; street=&amp;quot;thatstreet&amp;quot; zip=&amp;quot;9999&amp;quot;/&amp;gt;
      &amp;lt;xChange:contactref description=&amp;quot;orthopedist&amp;quot; refID=&amp;quot;some-GUID-3&amp;quot;/&amp;gt;&lt;/pre>
The contacts-element encloses all contacts defined in the file. A contact can be a person or an organization. A contactref is a reference to a different contact in the same file.

&lt;pre>      &amp;lt;xChange:medical&amp;gt;&lt;/pre>
If a contact has a medical-element, this contact is by definition a patient. The medical element contains all patient-related data, including patient-related documents (in opposite to the top-level-documents in the xchange container)

&lt;pre>        &amp;lt;xChange:episodes&amp;gt;
          &amp;lt;xChange:episode beginDate=&amp;quot;2000-03-21&amp;quot; endDate=&amp;quot;&amp;quot; id=&amp;quot;SomeGUID-4&amp;quot; name=&amp;quot;Hyperlipidemia&amp;quot;&amp;gt;
            &amp;lt;xChange:diagnosis code=&amp;quot;F9&amp;quot; codesystem=&amp;quot;TI-Code&amp;quot; text=&amp;quot;Stoffwechselkrankheit&amp;quot;/&amp;gt;
            &amp;lt;xChange:insurance companyref=&amp;quot;Some-contactref-3&amp;quot; dateFrom=&amp;quot;2001-01-01&amp;quot; dateUntil=&amp;quot;&amp;quot; publicDiagnosis=&amp;quot;Stoffwechsel&amp;quot; reason=&amp;quot;disease&amp;quot;&amp;gt;
              &amp;lt;xChange:contract caseID=&amp;quot;23445667&amp;quot; country=&amp;quot;CH&amp;quot; name=&amp;quot;KVG&amp;quot;/&amp;gt;
            &amp;lt;/xChange:insurance&amp;gt;
          &amp;lt;/xChange:episode&amp;gt;
        &amp;lt;/xChange:episodes&amp;gt;&lt;/pre>
xCHange organizes the medical record with episodes. An episode is a distinct problem of the patient that has always a begin date and probably an end date.

&lt;pre>        &amp;lt;xChange:records&amp;gt;
          &amp;lt;xChange:record author=&amp;quot;Some-contactref-5&amp;quot; date=&amp;quot;2010-02-28&amp;quot; id=&amp;quot;Some-GUID-6&amp;quot; responsible=&amp;quot;Some-contactref-6&amp;quot;&amp;gt;
                      &amp;lt;xChange:episode ref=&amp;quot;Some-episoderef-1&amp;quot;/&amp;gt;
          &amp;lt;/xChange:record&amp;gt;
        &amp;lt;/xChange:records&amp;gt;&lt;/pre>
records are the textual descripions of encounters. A record can reference one or more episodes and can contain arbitrary an possible structured entries.

&lt;pre> 
        &amp;lt;xChange:findings&amp;gt;
          &amp;lt;xChange:finding  id=&amp;quot;Some-GUID-7&amp;quot; name=&amp;quot;RBC&amp;quot; normRange=&amp;quot;3.5-5.2&amp;quot; type=&amp;quot;numeric&amp;quot; unit=&amp;quot;G/l&amp;quot;&amp;gt;
            &amp;lt;xChange:xid id=&amp;quot;idvalue5&amp;quot;&amp;gt;
              &amp;lt;xChange:identity date=&amp;quot;2001-01-01&amp;quot; domain=&amp;quot;www.xid.ch/labvalues/viollier&amp;quot; domainID=&amp;quot;RBC&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;regional&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
              &amp;lt;xChange:identity date=&amp;quot;2010-01-01&amp;quot; domain=&amp;quot;www.xid.ch/ASIMED/Some-GUID-1&amp;quot; domainID=&amp;quot;findings/labValues/hematology&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
            &amp;lt;/xChange:xid&amp;gt;
          &amp;lt;/xChange:finding&amp;gt;
        &amp;lt;/xChange:findings&amp;gt;&lt;/pre>
Findings are semantically somewhat overlapping with documents since a document can also describe a finding. A finding sensu strictu is here an value that can be expressed as number or boolean (normal/abnormal) . In some cases, an application can decide to send a result as document whereas an other application would send the same result as a finding. xCHange allows some ambiguity.

&lt;pre>        &amp;lt;xChange:documents&amp;gt;
      &amp;lt;xChange:document date=&amp;quot;2010-01-30&amp;quot; destination=&amp;quot;3234325fdghhjju&amp;quot;  origin=&amp;quot;3234325fdghhjju&amp;quot;   title=&amp;quot;sono-2010-01-30-012&amp;quot;&amp;gt;
           &amp;lt;xChange:xid id=&amp;quot;35466756ztrz6578&amp;quot;&amp;gt;
              &amp;lt;xChange:identity date=&amp;quot;2010-01-30&amp;quot; domain=&amp;quot;www.SomeHospital.ch/PACS_ID&amp;quot; domainID=&amp;quot;21344545656tz6&amp;quot; isGUID=&amp;quot;true&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
              &amp;lt;xChange:identity date=&amp;quot;2010-01-30&amp;quot; domain=&amp;quot;www.xid.ch/ASIMED/3234325fdghhjju&amp;quot; domainID=&amp;quot;documents/radiology/sonography/room1/abdomen&amp;quot; isGUID=&amp;quot;false&amp;quot; quality=&amp;quot;local&amp;quot; usage=&amp;quot;0&amp;quot;/&amp;gt;
           &amp;lt;/xChange:xid&amp;gt;
        &amp;lt;xChange:hint&amp;gt;Ultraschallbefund&amp;lt;/xChange:hint&amp;gt;
        &amp;lt;xChange:contents placement=&amp;quot;infile&amp;quot; mimetype=&amp;quot;application/pdf&amp;quot;&amp;gt;NameOfTheFileInTheContainer.pdf&amp;lt;/xChange:contents&amp;gt;
        &amp;lt;/xChange:document&amp;gt;&lt;/pre>
This Element contains all patient-associated documents. A similar Element is on top level for non-patient associated documents. Here we sa an document of type pdf which is stored outside of this xml-file within the same xCHange-Container (placement=“infile”)

&lt;pre>        &amp;lt;xChange:medications&amp;gt;&lt;/pre>
List of all medications

&lt;pre>        &amp;lt;xChange:risks&amp;gt;&lt;/pre>
List of risk factors

&lt;pre>      &amp;lt;xChange:financial billedTotal=&amp;quot;0.0&amp;quot; dateFrom=&amp;quot;2001-01-01&amp;quot; dateUntil=&amp;quot;2001-01-01&amp;quot; lostTotal=&amp;quot;0.0&amp;quot; paidTotal=&amp;quot;0.0&amp;quot;&amp;gt;&lt;/pre>
financial informations

Note that only header and at least one contact element are required. All other elements can be omitted if not necessary.

==== custom extensions ====

Sometimes, an EMR system might want to store more information than possible within the limited xCHange structure. This might be some private information that is useful only for other EMR Systems of the same brand and should therefore not bother others. We have two possibilities to achieve this: First, all xCHange elements have an optional Element called “Meta” that can exist zero or more times. It contains arbritrary key/value pairs. Second, it is always possible to store a file with arbitrary content along with the xchange.xml in the xchange-container. Thus, a Meta Element might carry a link to some external file that contains arbitrary data as needed.

=== encrypted container ===

An encrypted xchange container is an unencrypted container wrapped into an encryption envelope (see chapter Encprytion). The envelope is defined as follows: (Syntax: RFC 2234: Augmented Backus Naur Form):

&lt;pre>&amp;lt;envelope&amp;gt;   = &amp;lt;header&amp;gt;&amp;lt;data&amp;gt;
 &amp;lt;header&amp;gt;    = &amp;quot;xCHange*&amp;quot; &amp;lt;version&amp;gt; &amp;lt;enctype&amp;gt;
 &amp;lt;version&amp;gt;   = 2OCTET     ; xCHange Version as major/minor e.g. 0x100 for 1.0 or 0x0f0a for 15.10
 &amp;lt;enctype&amp;gt;   = 4CHAR     ; Encryption method used. At this time always 'XCH1'
 &amp;lt;data&amp;gt;      = *OCTET       ; encrypted container. Contents and interpretation depending on encryption method&lt;/pre>
== Encryption ==

xCHange by itself does not make any assumptions on encryptions. Encryption of the xCHange container is a separate process that does not logically modify the contents of the container. At the moment beeing, an encryption scheme very similar to other standard applications is used: a PKI is used to exchange public key portions of the key pairs for an asymmetric encryption method.

The encrypting application

# creates a hash over the xCHange container
# signs this hash with its private key
# creates a random session key
# uses this session key to encrypt the container and the hash
# obtains the public key of the receiver
# encrypts the session key with this key
# creates a file containing an xCHange-Header followed by the data

The decrypting application

# reads the file header and checks for conformity
# uses its private key to decrypt the session key
# uses this session key to decrypt the data portion
# uses the sender’s public key to verify the hash over the container

=== The XCH1 encryption method ===

This is at this time the only encryption method defined. It uses RSA/ECB/PKCS1Padding for asymmetric key encryption, SHA512/RSA for signature and Blowfish for symmetric data encryption. The structure of the encrypted container is defined as follows (Syntax: RFC 2234: Augmented Backus Naur Form):

&lt;pre>&amp;lt;data&amp;gt;       = %xefde.%x0102.&amp;lt;key&amp;gt;.1*&amp;lt;block&amp;gt;
&amp;lt;key&amp;gt;         = %x0010.&amp;lt;length&amp;gt;.*OCTET  
&amp;lt;block&amp;gt;      = %x0030.&amp;lt;length&amp;gt;.*OCTET 
&amp;lt;length&amp;gt;    = %x00000000-%xffffffff      ; little endian format&lt;/pre>
== Processes ==

xCHange transfer must deal with the following difficulties:

* We do not know what kind of application the sender uses.
* We do not know what kind of application the receiver uses
* we do not know what kind of documents the sender will send
* We do not know what kind of documents the receiver can handle

Obviously, we must chose a quite generic approach. The sender might collect personal data from his billing software and an x-Ray DICOM from his PACS. The receiver might have an all-in-one EMR system instead that can handle all kinds of documents (but is not specifically able to handle DICOM images). Thus, our generic approach relies onf the concepts of

# a “Collector” instance, i.e. a device or program that asks all registered applications to contribute to a pending export,
# a “Transporter” instance, i.e. a device or program that transfers the collected data to a receiver
# a “Dispatcher” instance, i.e. a device or program that asks all registered applications for every received data object, how they can handle this kind of data.

xCHange makes absolutely no assumptions on the implementation of such devices. The sample application, however, is an OSGi platform that is extensible by plugins and communicates via OSGi means. It can easily be extended to a Webservice that communicates via SOAP. The basic concepts are explained in the following sections.

== Exporting data: The Collector ==

Every application or plugin that wants to export data via xCHange must register itself with the xCHange-Collector as a sender. If the user selects a data object (say, a document or a lab value or a whole patient record) for export, the Collector asks all registered senders to contibute data to this object. A sender can just skip or can attach its data in a transportable form. After all senders are finished, the Collector shows the user, what can be exported. The user can manually select or deselect some of the proposed entities.

The Collector then packs all data objects into an xCHange container and passes this container over to the Transporter.

== Transporting data: The Transporter ==

The Transporter asks the user for the destination and the path of the transport. Care must be taken, because the container carries sensitive data. So all Transfers must be either encrypted or under full control of the patient him/herself. Following paths are defined:

* The container is moved to a mobile storage device. In this case, it must be encrypted because the device might get lost. Typically, we will ask the Patient for a password of his/her choice, encrypt the container symmetrically with that password and hand it over to the patient. The receiver asks the patient for the password and is then able to decrypt the container.
* The container is sent via e-mail through an encrypted tunnel. This is the case with ASAS clients in Switzerland. In this case, sender and receiver are identified via the HIN-ASAS PKI and the mail is sent end-to-end encrypted, if both, sender and receiver, are ASAS users. In this case, The transporter can leave the container unencrypted.
* The container is sent via normal e-mail. In this case, the Transporter must encrypt the container via asymmetric encryption. It must retrieve the receiver’s public key, and the receiver must be able to retrieve the sender’s public key (to verify the signature). Transport via unsecured e-mail is only allowed if these requirements are met.

== Importing data: The Dispatcher ==

Every application or plugin that wants to receive data from xCHange must register itself with the xCHange-Dispatcher as a receiver.

The xCHange-Dispatcher receives the (possibly enrypted) container, unpacks it and parses the enclosed xchange.xml. For every data object found, it calls each registered receiver if and how it can handle this data. If more than one receiver can handle a given object, a competition takes place, as described below, and the winner will get the object.&lt;br />
 A receiver must manage all aspects of XID matching, extending and ASIMED dynamic classification for the objects it handles.

== Competition: Finding the Right One ==

Typically in a real-world-practice environment, there will be more than one receiver, that can handle a cretain data type. Possibly a pracitioner first bought an all-in-one EMR system with a built-in document management system that handles all sorts of documents. Later, the user buys a more sophisticated document management system, and a digital x-ray equipment that comes with a PACS. Now we have (at least) three different applications that register themselves as xCHange importers. They do not necessarily know anything about each other, so each importer “thinks” it is the only one. On importing of, say, an X-Ray, the Dispatcher will ask all importers, whether they can handle it, and all will answer confidently “Yes, I can!”. So we would end up having imported the X-Ray three times. Or imported by an application that in fact is not the best available choice for such images.

As expected, xCHange has a flexible way to come around these problems. First, if the Dispatcher asks, the importers will not answer simply yes or no, but rather with a number indicating how well it can handle the object in question. A Number of 0 will mean “No, I can’t handle this at all”, a Number of 1 says “Ok, if no other stands ready, I’ll take it” while 1000 means “Hey, that’s my job! Trust me!”. In fact, the values can be even higher. Now if there is a clear difference between all applicants, the Dispatcher will chose the best one. If two ore more are similarly rated (e.g. less dan 50 points difference), the Dispatcher will ask the user, which one to take. The importer the user choses for this import will get then a rating bonus of 10 for this kind of data. So, next time, the importer probably can guess the user’s preference without asking.

Alternatively, the user can also decide to define a static association. He or she can declare, that images should always be handled by the image database and so on. In this case, the chosen application will get a bonus of 1000 points for the indicated type of data.

== Process instructions ==

Besides the structural definition, processing instructions are a vital part of the xCHange definition. We need a well defined way to handle and merge XID’s, ASIMED’s and so on. Thus, following the instructions here is mandatory for an xCHange implementation.

== XID Matching ==

Purpose: To decide whether two XIDs denote the same object

The decision is based on a Score that is computed from a prevalent estimate and the identities of the XIDs. A Score of 1000 means that the two objects are identical for sure and a score of 0 means, they are not identical for sure. Usually there will be a threshold declared by the user of the application, that is needed to regard to objects as identical. Let’s say we handle Objects with a matching score of 900 or more as being identical.

=== Pretest probability ===

Some times, an application can tell without using XIDs wether two objects are identical. At least with a certain level of confidence. This depends on the nature of the objects involved. If the objects are patient records, identical name and first name would rise the pretest probability to say 300. If also the birth date is same, it might be as high as 700, and if they have the same address we would end up with a pretest probability of 990 and so don’t have to make XID matching at all. This is, of course, only an example with arbitrary values. Calculating pretest probability is a task entirely for the importing application using its own rules.

=== Test procedure ===

When comparing two XIDs (XIDa and XIDb), matching involves the following steps:

(1) take pretest probability as score

(2) Repeat for all identities of XIDa except ASIMED identities:

* Find identity with same domain in XIDb
** if found: compare ID’s
*** if same:
**** if it is a GUID: add 500 to the score
**** if it has regional assignment: add 300 to the score if both objects originate from the same region
**** if it has global assignet: add 400 to the score
**** if it is of local assignment and is not a GUID, no score

(3) Compare score with predefined threshold. If above: take the two objects as equal

== XID merging ==

If two objects are recognized to be identical, their XIDs must be merged to a single resulting XID. This involves the following steps:

* for each identity of XIDa (including ASIMED):
** if an identity with same domain exists in XIDb: retain the newer one and discard the other.
** if no identity with same domain exists in XIDb: retain this identity

== Appendices ==

== xCHange.xsd ==

&lt;pre>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;xs:schema targetNamespace=&amp;quot;http://informatics.sgam.ch/xChange&amp;quot;
    elementFormDefault=&amp;quot;qualified&amp;quot; xmlns:xs=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot;
    xmlns:xChange=&amp;quot;http://informatics.sgam.ch/xChange&amp;quot;&amp;gt;
    &amp;lt;xs:include schemaLocation=&amp;quot;xid.xsd&amp;quot;&amp;gt;&amp;lt;/xs:include&amp;gt;
    &amp;lt;xs:include schemaLocation=&amp;quot;service.xsd&amp;quot;&amp;gt;&amp;lt;/xs:include&amp;gt;
    &amp;lt;xs:annotation&amp;gt;
        &amp;lt;xs:documentation&amp;gt;xChange Version 2.0.0&amp;lt;/xs:documentation&amp;gt;
    &amp;lt;/xs:annotation&amp;gt;
    &amp;lt;xs:element name=&amp;quot;xChange&amp;quot; type=&amp;quot;xChange:xChangeDescriptor&amp;quot; /&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;addressType&amp;quot; mixed=&amp;quot;true&amp;quot;&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;description&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    a description describing the addresse, e.g &amp;quot;home&amp;quot;
                    or
                    &amp;quot;work&amp;quot;. Defaults to &amp;quot;default&amp;quot;
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;street&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;zip&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;city&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;country&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;xChangeDescriptor&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;header&amp;quot; type=&amp;quot;xChange:headerType&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;contacts&amp;quot; type=&amp;quot;xChange:contactsListType&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;documents&amp;quot; type=&amp;quot;xChange:documentListType&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;id&amp;quot; type=&amp;quot;xs:ID&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;origin&amp;quot; type=&amp;quot;xs:IDREF&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;destination&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;timestamp&amp;quot; type=&amp;quot;xs:dateTime&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;responsible&amp;quot; type=&amp;quot;xs:IDREF&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;authorization&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;xChangeContactType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;xid&amp;quot; type=&amp;quot;xChange:XIDType&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element minOccurs=&amp;quot;0&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot; type=&amp;quot;xChange:addressType&amp;quot;
                name=&amp;quot;address&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;contactref&amp;quot; minOccurs=&amp;quot;0&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                type=&amp;quot;xChange:contactRefType&amp;quot; /&amp;gt;
            &amp;lt;xs:element name=&amp;quot;medical&amp;quot; type=&amp;quot;xChange:medicalType&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;financial&amp;quot; type=&amp;quot;xChange:financialType&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;lastname&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;middlename&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;firstname&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;birthdate&amp;quot; type=&amp;quot;xs:date&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;salutation&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;sex&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;title&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;type&amp;quot;&amp;gt;
            &amp;lt;xs:simpleType&amp;gt;
                &amp;lt;xs:restriction base=&amp;quot;xs:string&amp;quot;&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;person&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;organization&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                &amp;lt;/xs:restriction&amp;gt;
            &amp;lt;/xs:simpleType&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;shortname&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;!--
        xs:complexType name=&amp;quot;xChangeEpisode&amp;quot;&amp;gt; &amp;lt;xs:sequence&amp;gt; &amp;lt;xs:element
        minOccurs=&amp;quot;0&amp;quot; ref=&amp;quot;diagnosis&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt; &amp;lt;xs:element minOccurs=&amp;quot;0&amp;quot;
        ref=&amp;quot;text&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt; &amp;lt;xs:element name=&amp;quot;insurance&amp;quot;
        type=&amp;quot;insuranceType&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt; &amp;lt;/xs:sequence&amp;gt; &amp;lt;xs:attribute
        name=&amp;quot;begin&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt; &amp;lt;xs:attribute
        use=&amp;quot;required&amp;quot; name=&amp;quot;id&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;active&amp;quot; type=&amp;quot;xs:boolean&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;title&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;/xs:complexType
    --&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;insuranceType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;contract&amp;quot; type=&amp;quot;xChange:tariffType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;companyref&amp;quot; type=&amp;quot;xs:IDREF&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;reason&amp;quot;&amp;gt;
            &amp;lt;xs:simpleType&amp;gt;
                &amp;lt;xs:restriction base=&amp;quot;xs:string&amp;quot;&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;disease&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;accident&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;maternity&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;prevention&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;birthdefect&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;other&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                &amp;lt;/xs:restriction&amp;gt;
            &amp;lt;/xs:simpleType&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;publicDiagnosis&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;dateFrom&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;dateUntil&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;tariffType&amp;quot;&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;country&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    ISO Countrycode for the country, that tariff
                    applies
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;xs:simpleType&amp;gt;
                &amp;lt;xs:restriction base=&amp;quot;xs:string&amp;quot;&amp;gt;
                    &amp;lt;xs:minLength value=&amp;quot;1&amp;quot;&amp;gt;&amp;lt;/xs:minLength&amp;gt;
                    &amp;lt;xs:maxLength value=&amp;quot;3&amp;quot;&amp;gt;&amp;lt;/xs:maxLength&amp;gt;
                    &amp;lt;xs:whiteSpace value=&amp;quot;collapse&amp;quot;&amp;gt;&amp;lt;/xs:whiteSpace&amp;gt;
                &amp;lt;/xs:restriction&amp;gt;
            &amp;lt;/xs:simpleType&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;name&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;caseID&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;medicalType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;episodes&amp;quot; type=&amp;quot;xChange:episodeListType&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot; /&amp;gt;
            &amp;lt;xs:element type=&amp;quot;xChange:recordListType&amp;quot; name=&amp;quot;records&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;1&amp;quot; /&amp;gt;
            &amp;lt;xs:element type=&amp;quot;xChange:findingsListType&amp;quot; name=&amp;quot;findings&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot; /&amp;gt;
            &amp;lt;xs:element type=&amp;quot;xChange:documentListType&amp;quot; name=&amp;quot;documents&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot; /&amp;gt;
            &amp;lt;xs:element type=&amp;quot;xChange:medicationListType&amp;quot; name=&amp;quot;medications&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot; /&amp;gt;
            &amp;lt;xs:element type=&amp;quot;xChange:riskListType&amp;quot; name=&amp;quot;risks&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot; /&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;riskType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                A risk ist an allergy or a life style risk or a
                genetic
                risk
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;confirmedBy&amp;quot; type=&amp;quot;xs:IDREF&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;firstMentioned&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;substance&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;relevance&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;findingType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                a finding. This might be a lab result or an ecg
                result
                or a microbiological finding.
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;xid&amp;quot; type=&amp;quot;xChange:XIDType&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;1&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        a unique identifier of the code system this item
                        comes from. In the most simple case this is a
                        xid of domain
                        www.xid.ch/labitems/
                        &amp;amp;lt;NameOfLab&amp;amp;gt; with the string that
                        identifies the item within this lab (e.g.
                        &amp;quot;Potassium&amp;quot;) as
                        domain_id. Other EMR systems
                        might choose to use
                        www.xid.ch/labitems/LOINC as
                        the codebase and use the LOINC-Code of
                        the item
                        as domain_id.
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        any additional information the application might
                        want to give
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;id&amp;quot; type=&amp;quot;xs:ID&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    a globally unique id to identify this findingType
                    unambiguously
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;name&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    a textual representation of the finding item (the
                    name of the finding, eg hemoglobine or ecg or x-ray
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;normRange&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    the norm range. shoud be adapted for sex and age
                    of
                    the current patient
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;type&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    the type of results of this finding
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;xs:simpleType&amp;gt;
                &amp;lt;xs:restriction base=&amp;quot;xs:NMTOKEN&amp;quot;&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;numeric&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;text&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;image&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;absolute&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                &amp;lt;/xs:restriction&amp;gt;
            &amp;lt;/xs:simpleType&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;unit&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;units if any&amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;group&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    a hint where this item should be shown in a result
                    sheet. e.g. Hematology or elektrolytes
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;contactRefType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                A relation of a contact. Points to another contact
                inside the same file
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;refID&amp;quot; type=&amp;quot;xs:IDREF&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    ID of the contact in the contacts section inside
                    the
                    same file
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;description&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    a description of the relationship of the contact
                    to
                    this identity
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;medicationType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;xid&amp;quot; type=&amp;quot;xChange:XIDType&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;product&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;optional&amp;quot; name=&amp;quot;dosage&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;dosageUnit&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;frequency&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;optional&amp;quot; name=&amp;quot;startDate&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;optional&amp;quot; name=&amp;quot;stopDate&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;substance&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;remark&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;medicationListType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element maxOccurs=&amp;quot;unbounded&amp;quot; type=&amp;quot;xChange:medicationType&amp;quot;
                name=&amp;quot;medication&amp;quot; /&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;recordListType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;record&amp;quot; type=&amp;quot;xChange:recordType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;documentListType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                container around the documents section inside a
                medical
                element. contains all patient-related documents
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;document&amp;quot; type=&amp;quot;xChange:documentType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;documentType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                a document of arbitrary type (can be image, text or
                other)
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;xid&amp;quot; type=&amp;quot;xChange:XIDType&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;hint&amp;quot; type=&amp;quot;xs:string&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;1&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        a hint to display to the user if the application
                        can not render the document
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        any additional informations the application
                        might
                        want to include
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;contents&amp;quot; type=&amp;quot;xs:string&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        if placement was inline: The base64 encoded
                        document. If placement was url: The URL.
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;title&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    title of the document
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;origin&amp;quot; type=&amp;quot;xs:IDREF&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    Reference to the xChangeContact where the document
                    originated
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;destination&amp;quot; type=&amp;quot;xs:IDREF&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    Reference to tthe xChangeContact this document was
                    addressed originally
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;mimetype&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    Mimetype of the document
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;subject&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    A short description of the subject of the document
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;placement&amp;quot; type=&amp;quot;xChange:placementType&amp;quot;
            use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    Location of the document. Inline: base64 encoded
                    in the body of this element. infile: inside the
                    xChange-file. url: at  the given url
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;date&amp;quot; type=&amp;quot;xs:date&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    date this document was originally created
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;recordref&amp;quot; type=&amp;quot;xs:IDREF&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    record this document belongs to (if any)
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:simpleType name=&amp;quot;placementType&amp;quot;&amp;gt;
        &amp;lt;xs:restriction base=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:enumeration value=&amp;quot;inline&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
            &amp;lt;xs:enumeration value=&amp;quot;infile&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
            &amp;lt;xs:enumeration value=&amp;quot;url&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
        &amp;lt;/xs:restriction&amp;gt;
    &amp;lt;/xs:simpleType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;contactsListType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                Container around the contacts section of the file
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;contact&amp;quot; type=&amp;quot;xChange:xChangeContactType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;episodeListType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                container around the episodes section of the
                medical
                element. The episodes section contains all
                diagnoses/problems/episodes that are described in this
                medical
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;episode&amp;quot; type=&amp;quot;xChange:episodeType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;episodeType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                An Episode, aka Problem. This is something that
                happened
                to the patient at a given moment - the beginDate and
                continues trough some amount of time, over one or more
                consultations
                or patient records and might eventually
                declared inactive at some
                moment - the endDate
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;diagnosis&amp;quot; type=&amp;quot;xChange:diagnosisType&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        the diagnosis more formally declared as in
                        &amp;quot;name&amp;quot;
                        -&amp;gt; see descrption of diagnosisType
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;insurance&amp;quot; type=&amp;quot;xChange:insuranceType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        The insurance that is in charge for this episode
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        any additional informations the application
                        might
                        to give
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;id&amp;quot; type=&amp;quot;xs:ID&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    a globalliy unique identifier
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;name&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    A name this episode has for the physician. This
                    might (but does not need to) duplicate the
                    diagnosis-text. The name
                    might something like
                    &amp;quot;thorax pain&amp;quot; wihle the diagnose states
                    &amp;quot;gastroesophageal reflux&amp;quot;.
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;beginDate&amp;quot; type=&amp;quot;xs:date&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    The date this episode was constated first. (if
                    known).
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;endDate&amp;quot; type=&amp;quot;xs:date&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    The date, this episode was declared inactive (if
                    ever)
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;diagnosisType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;a systematic diagnosis&amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;text&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    textual description of the diagnosis
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;codesystem&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    codesystem this diagnosis is taken from
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;code&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    cod einside the diagnosis system
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;recordType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;chunk&amp;quot; type=&amp;quot;xChange:chunkType&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;episode&amp;quot; type=&amp;quot;xChange:episodeRefType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;id&amp;quot; type=&amp;quot;xs:ID&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;author&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute use=&amp;quot;required&amp;quot; name=&amp;quot;date&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;responsible&amp;quot; type=&amp;quot;xs:IDREF&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;riskListType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;risk&amp;quot; type=&amp;quot;xChange:riskType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;findingsListType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                container around the findings-section of this
                medical
                element
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:choice maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:element name=&amp;quot;finding&amp;quot; type=&amp;quot;xChange:findingType&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt;
                &amp;lt;xs:element name=&amp;quot;result&amp;quot; type=&amp;quot;xChange:resultType&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt;
            &amp;lt;/xs:choice&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;headerType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                The header of every xChange document
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;protocolVersion&amp;quot; type=&amp;quot;xs:string&amp;quot;
            use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    version of the xChange protocol that created this
                    document, given as maior.minor.rev
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;creatorName&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    Name of the software that created this document
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;creatorID&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    glibally unique id of the software that created
                    this
                    document
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;creatorVersion&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    Version of the software that created this document
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;language&amp;quot; type=&amp;quot;xs:string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    language this document is created in
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;episodeRefType&amp;quot;&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;ref&amp;quot; type=&amp;quot;xs:IDREF&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;metaType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                This type is for application specific informations
                within one of the other elements. In most cases this
                infkrmations are
                only useful for other instances of the
                same application that created
                them. No application may
                relay on any meta information to be present.
                Meta
                informations may safely and silently be ignored by
                applications
                that don't recognize them.
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;name&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    name of the application specific information
                    element. It is recommended to prefix the name with
                    an application
                    name to make meta names unique.
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;value&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    value of the element. A Processor must not make
                    any
                    assumptions on the type of any meta tags even if it
                    regognizes
                    the name.
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;markupType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                A markup inside the record text. A markup can be
                any  structural information inside the text (e.g. &amp;quot;Subj&amp;quot;) or
                a  modification of the appearance of the text (e.g.
                &amp;quot;bold&amp;quot;). The pos-attribute tells the position inside orf
                the text where this  markup will appear. The length
                attribute tells the number of characters (inlcuding
                whitespace and linebreak) will be included by
                this  markup. The length can be omitted ot set to 0, then the
                markup is  solely a positional information or the text
                attibute put at the given  position.
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        any additional data the application might want
                        to provide
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;pos&amp;quot; type=&amp;quot;xs:int&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    position this markup begins
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;length&amp;quot; type=&amp;quot;xs:int&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    length in characters this markup consumes
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;type&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;type of the markup&amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;text&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    a text that should be inserted at position &amp;quot;pos&amp;quot;
                    before applying the markup
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;hint&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    a hint what to display for processors that cant't
                    interpret this markup
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;resultType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;a medical result&amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;meta&amp;quot; type=&amp;quot;xChange:metaType&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;textResult&amp;quot; type=&amp;quot;xs:string&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        if the result is a text or a value, it must be
                        given here. If the result is a document or
                        image, this can be
                        omitted or can contain a
                        textual explanation of the image.
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;documentRef&amp;quot; type=&amp;quot;xs:IDREF&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
                &amp;lt;xs:annotation&amp;gt;
                    &amp;lt;xs:documentation&amp;gt;
                        indicates that the result is in the
                        documents-section and might be a letter or an
                        image
                    &amp;lt;/xs:documentation&amp;gt;
                &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;id&amp;quot; type=&amp;quot;xs:ID&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;globally unique id&amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;findingRef&amp;quot; type=&amp;quot;xs:IDREF&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    findingType that describes this result
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;timestamp&amp;quot; type=&amp;quot;xs:dateTime&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    date and time this result was found
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;isNormal&amp;quot; type=&amp;quot;xs:boolean&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    an optional shorthand indicator whether this
                    result
                    is normal or not.
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:group name=&amp;quot;ModelGroupDefinition&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;&amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:group&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;chunkType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                A Chunk is a part of a record. It has an optional
                title, a text, an optional style information (display hint) and
                optional markups.
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;title&amp;quot; type=&amp;quot;xs:string&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;text&amp;quot; type=&amp;quot;xs:string&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;style&amp;quot; type=&amp;quot;xChange:styleType&amp;quot;
                maxOccurs=&amp;quot;1&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
            &amp;lt;xs:element name=&amp;quot;markup&amp;quot; type=&amp;quot;xChange:markupType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;styleType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;bounds&amp;quot; type=&amp;quot;xChange:rectangleType&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;opacity&amp;quot; type=&amp;quot;xs:double&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;background&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;rgbType&amp;quot;&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;red&amp;quot; type=&amp;quot;xs:int&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;green&amp;quot; type=&amp;quot;xs:int&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;blue&amp;quot; type=&amp;quot;xs:int&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;rectangleType&amp;quot;&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;x&amp;quot; type=&amp;quot;xs:int&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;y&amp;quot; type=&amp;quot;xs:int&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;w&amp;quot; type=&amp;quot;xs:int&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;h&amp;quot; type=&amp;quot;xs:int&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;unit&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;financialType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;servicesRendered&amp;quot; type=&amp;quot;xChange:servicesRenderedType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;0&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;dateFrom&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;dateUntil&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;billedTotal&amp;quot; type=&amp;quot;xs:float&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;paidTotal&amp;quot; type=&amp;quot;xs:float&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;lostTotal&amp;quot; type=&amp;quot;xs:float&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;servicesType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;service&amp;quot; type=&amp;quot;xChange:serviceType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;servicesRenderedType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;service&amp;quot; type=&amp;quot;xChange:serviceType&amp;quot;
                maxOccurs=&amp;quot;unbounded&amp;quot; minOccurs=&amp;quot;1&amp;quot;&amp;gt;&amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;provider&amp;quot; type=&amp;quot;xs:IDREF&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;receiver&amp;quot; type=&amp;quot;xs:IDREF&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;time&amp;quot; type=&amp;quot;xs:dateTime&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;encounter&amp;quot; type=&amp;quot;xs:IDREF&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
&amp;lt;/xs:schema&amp;gt;&lt;/pre>
== XID.xsd ==

&lt;pre>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;xs:schema targetNamespace=&amp;quot;http://informatics.sgam.ch/xChange&amp;quot;
    elementFormDefault=&amp;quot;qualified&amp;quot; xmlns:xs=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot;
    xmlns:xChange=&amp;quot;http://informatics.sgam.ch/xChange&amp;quot;&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;XIDType&amp;quot;&amp;gt;
        &amp;lt;xs:sequence&amp;gt;
            &amp;lt;xs:element name=&amp;quot;identity&amp;quot; maxOccurs=&amp;quot;unbounded&amp;quot;
                minOccurs=&amp;quot;1&amp;quot; type=&amp;quot;xChange:identityType&amp;quot;&amp;gt;
            &amp;lt;/xs:element&amp;gt;
        &amp;lt;/xs:sequence&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;id&amp;quot; type=&amp;quot;xs:ID&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
    &amp;lt;xs:complexType name=&amp;quot;identityType&amp;quot;&amp;gt;
        &amp;lt;xs:annotation&amp;gt;
            &amp;lt;xs:documentation&amp;gt;
                an identity within a XID element
            &amp;lt;/xs:documentation&amp;gt;
        &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;domain&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    domain this identity comes from. must be globally
                    unique
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;domainID&amp;quot; type=&amp;quot;xs:string&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    the ID of the denoted object within the given
                    domain. Should be unique within that domain.
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;quality&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    The Quality od this identity. it can be a locally
                    (only in the given sofware) or a regionally (e.g. in
                    a country) or a
                    globally assigned and recognized
                    identification.
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
            &amp;lt;xs:simpleType&amp;gt;
                &amp;lt;xs:restriction base=&amp;quot;xs:string&amp;quot;&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;local&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;regional&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                    &amp;lt;xs:enumeration value=&amp;quot;global&amp;quot;&amp;gt;&amp;lt;/xs:enumeration&amp;gt;
                &amp;lt;/xs:restriction&amp;gt;
            &amp;lt;/xs:simpleType&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;isGUID&amp;quot; type=&amp;quot;xs:boolean&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;
                    true if this domainID is guaranteed to be
                    globally
                    unique (and not only within the domain).
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;date&amp;quot; type=&amp;quot;xs:date&amp;quot;&amp;gt;&amp;lt;/xs:attribute&amp;gt;
        &amp;lt;xs:attribute name=&amp;quot;usage&amp;quot; type=&amp;quot;xs:int&amp;quot;&amp;gt;
            &amp;lt;xs:annotation&amp;gt;
                &amp;lt;xs:documentation&amp;gt;Usage count of this identity. Will always be
                    increased by one if this identity was helpful for an identification
                    procecc.
                &amp;lt;/xs:documentation&amp;gt;
            &amp;lt;/xs:annotation&amp;gt;
        &amp;lt;/xs:attribute&amp;gt;
    &amp;lt;/xs:complexType&amp;gt;
&amp;lt;/xs:schema&amp;gt;&lt;/pre>
== service.xsd ==

&lt;pre>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;schema targetNamespace=&amp;quot;http://informatics.sgam.ch/xChange&amp;quot;
    elementFormDefault=&amp;quot;qualified&amp;quot; xmlns=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot;
    xmlns:xChange=&amp;quot;http://informatics.sgam.ch/xChange&amp;quot;
    xmlns:Q1=&amp;quot;xChange&amp;quot;&amp;gt;
    &amp;lt;include schemaLocation=&amp;quot;xid.xsd&amp;quot;&amp;gt;&amp;lt;/include&amp;gt;
    &amp;lt;complexType name=&amp;quot;serviceType&amp;quot;&amp;gt;
        &amp;lt;annotation&amp;gt;
            &amp;lt;documentation&amp;gt;
                A Service is defined by a name, a service system that is
                applied by contract (but might also be a custom defines
                service), a price and a cost
            &amp;lt;/documentation&amp;gt;
        &amp;lt;/annotation&amp;gt;
        &amp;lt;sequence&amp;gt;
            &amp;lt;element name=&amp;quot;xid&amp;quot; type=&amp;quot;XIDType&amp;quot; maxOccurs=&amp;quot;1&amp;quot;
                minOccurs=&amp;quot;1&amp;quot;&amp;gt;
            &amp;lt;/element&amp;gt;
        &amp;lt;/sequence&amp;gt;
        &amp;lt;attribute name=&amp;quot;name&amp;quot; type=&amp;quot;string&amp;quot; use=&amp;quot;required&amp;quot;&amp;gt;
            &amp;lt;annotation&amp;gt;
                &amp;lt;documentation&amp;gt;name of this service&amp;lt;/documentation&amp;gt;
            &amp;lt;/annotation&amp;gt;
        &amp;lt;/attribute&amp;gt;
        &amp;lt;attribute name=&amp;quot;contractName&amp;quot; type=&amp;quot;string&amp;quot; use=&amp;quot;required&amp;quot;
            default=&amp;quot;custom&amp;quot;&amp;gt;
            &amp;lt;annotation&amp;gt;
                &amp;lt;documentation&amp;gt;
                    The name of the contractual system this service
                    belongs to (e.g. Tarmed, OKP, Analysenliste) or
                    &amp;quot;custom&amp;quot; to declare a custom service
                &amp;lt;/documentation&amp;gt;
            &amp;lt;/annotation&amp;gt;
        &amp;lt;/attribute&amp;gt;
        &amp;lt;attribute name=&amp;quot;contractCode&amp;quot; type=&amp;quot;string&amp;quot;&amp;gt;&amp;lt;/attribute&amp;gt;
        &amp;lt;attribute name=&amp;quot;minutes&amp;quot; type=&amp;quot;string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;&amp;lt;/attribute&amp;gt;
        &amp;lt;attribute name=&amp;quot;cost&amp;quot; type=&amp;quot;string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;&amp;lt;/attribute&amp;gt;
        &amp;lt;attribute name=&amp;quot;price&amp;quot; type=&amp;quot;string&amp;quot; use=&amp;quot;optional&amp;quot;&amp;gt;
            &amp;lt;annotation&amp;gt;
                &amp;lt;documentation&amp;gt;
                    the price of this service in units of the contryct
                    (e.g. Rp., TP, cents)
                &amp;lt;/documentation&amp;gt;
            &amp;lt;/annotation&amp;gt;
        &amp;lt;/attribute&amp;gt;
    &amp;lt;/complexType&amp;gt;
&amp;lt;/schema&amp;gt;&lt;/pre>
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="https://wiki.elexis.info/Ch.medelexis.xchange.feature.feature.group" title="Ch.medelexis.xchange.feature.feature.group">Ch.medelexis.xchange.feature.feature.group</a>.</p>
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.elexis.info/Ch.medelexis.xchange.feature.feature.group">https://wiki.elexis.info/Ch.medelexis.xchange.feature.feature.group</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul lang="en" dir="ltr">
							<li id="pt-login"><a href="https://wiki.elexis.info/index.php?title=Spezial:Anmelden&amp;returnto=Ch.medelexis.xchange.feature.feature.group&amp;returntoquery=action%3Dedit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul lang="en" dir="ltr">
							<li id="ca-nstab-main" class="selected"><span><a href="https://wiki.elexis.info/Ch.medelexis.xchange.feature.feature.group" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://wiki.elexis.info/index.php?title=Diskussion:Ch.medelexis.xchange.feature.feature.group&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul lang="en" dir="ltr">
							<li id="ca-view" class="collapsible"><span><a href="https://wiki.elexis.info/Ch.medelexis.xchange.feature.feature.group">Read</a></span></li><li id="ca-viewsource" class="collapsible selected"><span><a href="https://wiki.elexis.info/index.php?title=Ch.medelexis.xchange.feature.feature.group&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://wiki.elexis.info/index.php?title=Ch.medelexis.xchange.feature.feature.group&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul lang="en" dir="ltr">
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3 lang="en" dir="ltr">
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://wiki.elexis.info/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Elexis-Wiki" title="Search Elexis-Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Spezial:Suche" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="https://wiki.elexis.info/Hauptseite"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 lang="en" dir="ltr" id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage-description"><a href="https://wiki.elexis.info/Hauptseite" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-Elexis-3.0"><a href="https://wiki.elexis.info/Installation_Elexis_3.0_OpenSource">Elexis 3.0</a></li><li id="n-Matrix-3.0"><a href="https://wiki.elexis.info/Matrix_3.0">Matrix 3.0</a></li><li id="n-recentchanges"><a href="https://wiki.elexis.info/Spezial:Letzte_Änderungen" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="https://wiki.elexis.info/Spezial:Zufällige_Seite" title="Load a random page [x]" accesskey="x">Random page</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 lang="en" dir="ltr" id="p-tb-label">Tools</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="https://wiki.elexis.info/Spezial:Linkliste/Ch.medelexis.xchange.feature.feature.group" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.elexis.info/Spezial:Änderungen_an_verlinkten_Seiten/Ch.medelexis.xchange.feature.feature.group" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="https://wiki.elexis.info/Spezial:Spezialseiten" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-info"><a href="https://wiki.elexis.info/index.php?title=Ch.medelexis.xchange.feature.feature.group&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo" lang="en" dir="ltr">
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="https://wiki.elexis.info/Elexis-Wiki:Datenschutz" title="Elexis-Wiki:Datenschutz">Privacy policy</a></li>
								<li id="footer-places-about"><a href="https://wiki.elexis.info/Elexis-Wiki:Über_Elexis-Wiki" title="Elexis-Wiki:Über Elexis-Wiki">About Elexis-Wiki</a></li>
								<li id="footer-places-disclaimer"><a href="https://wiki.elexis.info/Elexis-Wiki:Impressum" title="Elexis-Wiki:Impressum">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://wiki.elexis.info/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":33});});</script>
	</body>

<!-- Mirrored from wiki.elexis.info/index.php?title=Ch.medelexis.xchange.feature.feature.group&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 26 Feb 2024 14:26:55 GMT -->
</html>
